<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Directory 1.0.0 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
  <link href='assets/split.css' type='text/css' rel='stylesheet' />
  <meta name='description' content='directory.js'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>Directory</h3>
          <div class='mb1'><code>1.0.0</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#express'
                  class="">
                  express
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#express'
                  class="">
                  express
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fs'
                  class="">
                  fs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fs'
                  class="">
                  fs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#component'
                  class="">
                  Component
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#cols'
                  class="">
                  cols
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#dirscanner'
                  class=" toggle-sibling">
                  DirScanner
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#dirscannergetclientinfo'
                        class='regular pre-open'>
                        #getClientInfo
                      </a></li>
                      
                      <li><a
                        href='#dirscannergetdirlisting'
                        class='regular pre-open'>
                        #getDirListing
                      </a></li>
                      
                      <li><a
                        href='#dirscannerprocessclientdir'
                        class='regular pre-open'>
                        #processClientDir
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#getall'
                  class="">
                  getAll
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getallwithstatus'
                  class="">
                  getAllWithStatus
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#clientinfo'
                  class="">
                  ClientInfo
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#createconnection'
                  class="">
                  createConnection
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#insertorupdatesingle'
                  class="">
                  insertOrUpdateSingle
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#createfromconfig'
                  class="">
                  createFromConfig
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loadwallet'
                  class="">
                  loadWallet
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#loadcontract'
                  class="">
                  loadContract
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#createfromconfig'
                  class="">
                  createFromConfig
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getcurrentdatetime'
                  class="">
                  getCurrentDateTime
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#run'
                  class="">
                  run
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='http://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='express'>
      express
    </h3>
    
    
  </div>
  

  <p>This file specifies the Express routes for the API that supports the Directory UI.</p>

 
  
    <div class='pre p1 fill-light mt0'>express</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='express'>
      express
    </h3>
    
    
  </div>
  

  <p>This file contains the configurations for running the Express server that
will serve API requests for the API specified in <code>./routes/api.js</code>.</p>
<p>To run:
$ node server.js</p>
<p>To run using forever:
$ forever start server.js</p>

 
  
    <div class='pre p1 fill-light mt0'>express</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fs'>
      fs
    </h3>
    
    
  </div>
  

  <p>This file contains functions to query the <code>registrations</code> table in the
<code>alpha_kuwa_directory</code> database to support the API in <code>./routes/api.js</code>.</p>

 
  
    <div class='pre p1 fill-light mt0'>fs</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fs'>
      fs
    </h3>
    
    
  </div>
  

  <p>This program scans the directory in the Kuwa Storage Manager registrations repository
containing the Kuwa client directories with the client address as the name of the directory.
The directory hierarchy is as follows:</p>
<p>rootDir/
0x6dc989e6d3582f5c3da1fd510a5b0ad950d67f3a/</p>
<ul>
<li>info.json
{
"ClientAddress": "0x6dc989e6d3582f5c3da1fd510a5b0ad950d67f3a",
"ContractAddress": "0x066335f8A852A6A0C2761e82829524eb8C950515",
"ContractABI": "[{\"constant\":true,\"inputs\":[],..."
}</li>
<li>video.mp4</li>
</ul>
<p>Each Kuwa client directory will contain an 'info.json', which will contain the client address,
the client's contract address, and the contract JSON ABI. It will also contain the video
recording of the client speaking the challenge phrase.</p>
<p>The program will read the information necessary to load the Kuwa client's smart contract in
order to call the getRegistrationStatus() function to obtain the status of the client.</p>
<p>It will then store this information into the 'registration' table of the MySQL DB so that
one can quickly retrieve Kuwa client addresses with a certain status.</p>

 
  
    <div class='pre p1 fill-light mt0'>fs</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='component'>
      Component
    </h3>
    
    
  </div>
  

  <p>This file represents the React UI App for displaying the directory of Kuwa IDs.
in tabular form.</p>
<p>The Kuwa client ID (Ethereum address), the client's contract address,
the creation time, and the last status update time are displayed.</p>
<p>Users can select to only display Kuwa IDs with a certain status using the select box.</p>

 
  
    <div class='pre p1 fill-light mt0'>Component</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
  </div>
  

  <p>Get all Kuwa IDs.</p>

 
  
    <div class='pre p1 fill-light mt0'>get</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
  </div>
  

  <p>Get Kuwa IDs based on status.</p>
<p><code>req.params.status</code> should be one of the following:
"Valid", "Invalid", "Credentials-Provided",
"Challenge-Expired", "Video-Uploaded", "QR-Code-Scanned"</p>

 
  
    <div class='pre p1 fill-light mt0'>get</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='cols'>
      cols
    </h3>
    
    
  </div>
  

  <p>Get the selected columns from "config.json" converted to proper display format for the UI.
We can perhaps have the column mappings as another table in the registration DB?</p>

 
  
    <div class='pre p1 fill-light mt0'>cols()</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='dirscanner'>
      DirScanner
    </h3>
    
    
  </div>
  

  <p>This class contains functions to scan the Kuwa client directories uploaded to
the raw registrations repository by the Kuwa Storage Manager whenever a new user registers to
become a Kuwa client.</p>

 
  
    <div class='pre p1 fill-light mt0'>new DirScanner(dirToScanPath: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, ethClient: EthClient)</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>dirToScanPath</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The absolute path to the root directory containing all the
Kuwa client directories.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ethClient</span> <code class='quiet'>(EthClient)</code>
	    An object containing functions and variables to interact with the
Ethereum blockchain.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='dirscannergetclientinfo'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getClientInfo(clientDir, files)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Returns information about a Kuwa client based on the files in its directory.</p>

 
  
    <div class='pre p1 fill-light mt0'>getClientInfo(clientDir: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, files: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>): <a href="#clientinfo">ClientInfo</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>clientDir</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The absolute path to a Kuwa client directory

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>files</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
	    An array of filenames (should be static) inside the client directory

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#clientinfo">ClientInfo</a></code>:
        Information about a Kuwa client

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='dirscannergetdirlisting'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getDirListing(rootDir)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Retrieves the contents of a directory.</p>

 
  
    <div class='pre p1 fill-light mt0'>getDirListing(rootDir: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rootDir</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The absolute path to the target directory

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>:
        An array of filenames inside the target directory

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='dirscannerprocessclientdir'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>processClientDir(clientDir)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Processes a Kuwa client directory by retrieving the necessary information
to store into the database.</p>

 
  
    <div class='pre p1 fill-light mt0'>processClientDir(clientDir: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="#clientinfo">ClientInfo</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>clientDir</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The absolute path of a Kuwa client directory

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#clientinfo">ClientInfo</a></code>:
        Information about a Kuwa client

      
    
  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getall'>
      getAll
    </h3>
    
    
  </div>
  

  <p>Get all Kuwa clients regardless of their status.</p>

 
  
    <div class='pre p1 fill-light mt0'>getAll(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
   
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A Promise object containing the rows of the query

      
    
  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getallwithstatus'>
      getAllWithStatus
    </h3>
    
    
  </div>
  

  <p>Get Kuwa clients with a certain status ("Valid", "Invalid", "Credentials-Provided", "Challenge-Expired", "Video-Uploaded", "QR-Code-Scanned").</p>
<p>Join with another SQL table? We can put status mappings in the "config.json"
but that doesn't look right and is a bit hacky.
See <a href="https://stackoverflow.com/questions/16753122/sql-how-to-replace-values-of-select-return">https://stackoverflow.com/questions/16753122/sql-how-to-replace-values-of-select-return</a></p>

 
  
    <div class='pre p1 fill-light mt0'>getAllWithStatus(status: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>status</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The status of the Kuwa client

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        A Promise object containing the rows of the query

      
    
  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='clientinfo'>
      ClientInfo
    </h3>
    
    
  </div>
  

  
 
  
    <div class='pre p1 fill-light mt0'>ClientInfo</div>
   
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
    </p>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>status</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : The current status of the Kuwa client

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>videoFilePath</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : Absolute path to the video file of the user speaking the challenge phrase

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>ContractAddress</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : The Ethereum address of the Kuwa client ("0x123abc...")

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>ContractABI</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : The application binary interface (in JSON) of the Kuwa client's deployed contract

          
        </div>
      
    </div>
  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
  </div>
  

  <p>Creates a new MySQL database client.</p>

 
  
    <div class='pre p1 fill-light mt0'>new constructor(host: any, user: any, password: any, database: any)</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>host</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>user</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>password</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='createconnection'>
      createConnection
    </h3>
    
    
  </div>
  

  <p>Creates a new connection to the MySQL database.</p>

 
  
    <div class='pre p1 fill-light mt0'>createConnection(host: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, user: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, password: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, database: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>host</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The hostname of the database to connect to

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>user</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The user to authenticate as

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>password</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The password of the user

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>database</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The name of the database for the connection

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        The connection object

      
    
  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='insertorupdatesingle'>
      insertOrUpdateSingle
    </h3>
    
    
  </div>
  

  <p>Insert or update a single row in the table corresponding to a Kuwa client.</p>

 
  
    <div class='pre p1 fill-light mt0'>insertOrUpdateSingle(tableName: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, data: <a href="#clientinfo">ClientInfo</a>)</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tableName</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Name of the table

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>data</span> <code class='quiet'>(<a href="#clientinfo">ClientInfo</a>)</code>
	    Information about a Kuwa client

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='createfromconfig'>
      createFromConfig
    </h3>
    
    
  </div>
  

  <p>Create a database client using a configuration object from a configuration file.</p>

 
  
    <div class='pre p1 fill-light mt0'>createFromConfig(The: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): DBClient</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>The</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    configuration object

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>The.host</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>The.user</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>The.password</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>The.database</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>DBClient</code>:
        The DBClient object created from a configuration object
using destructuring assignment

      
    
  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
  </div>
  

  <p>Create a new client for interacting with the Ethereum blockchain.</p>

 
  
    <div class='pre p1 fill-light mt0'>new constructor(myAddress: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, keyStoreDir: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, password: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, ethNetworkUrl: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>myAddress</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The address transactions should be sent from (the origin EOA or wallet address)

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>keyStoreDir</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The Ethereum keystore directory containing the JSON file that contains the
public/private key pair for the wallet

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>password</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The password for recovering the private key from the JSON file

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ethNetworkUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The URL to access the Ethereum network over HTTP

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loadwallet'>
      loadWallet
    </h3>
    
    
  </div>
  

  <p>Loads an Ethereum wallet.</p>

 
  
    <div class='pre p1 fill-light mt0'>loadWallet()</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loadcontract'>
      loadContract
    </h3>
    
    
  </div>
  

  <p>Loads an already deployed contract in the Ethereum blockchain.</p>

 
  
    <div class='pre p1 fill-light mt0'>loadContract(abi: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, contractAddress: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, gas: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, gasPrice: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>abi</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The application binary interface (in JSON) of the Kuwa client's deployed contract

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>contractAddress</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    The address of the contract

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>gas</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    The maximum gas provided for this transaction (gas limit)

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>gasPrice</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Amount of ether you're willing to pay for every unit of gas

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='createfromconfig'>
      createFromConfig
    </h3>
    
    
  </div>
  

  <p>Create an Ethereum client using a configuration object from a configuration file.</p>

 
  
    <div class='pre p1 fill-light mt0'>createFromConfig(The: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): EthClient</div>
   
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>The</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    configuration object

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>The.my_address</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>The.key_store_dir</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>The.password</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>The.eth_network_url</span> <code class='quiet'>any</code>
  </td>
  <td class='break-word'><span></span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>EthClient</code>:
        An EthClient object created from a configuration object
using destructuring assignment

      
    
  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getcurrentdatetime'>
      getCurrentDateTime
    </h3>
    
    
  </div>
  

  
 
  
    <div class='pre p1 fill-light mt0'>getCurrentDateTime(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
   
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        The current datetime (UTC) in 'yyyy-MM-dd HH:mm:ss' format.

      
    
  

  

  

  

  

  
</section>

        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='run'>
      run
    </h3>
    
    
  </div>
  

  <p>Driver function to run the scan process.</p>

 
  
    <div class='pre p1 fill-light mt0'>run()</div>
   
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  
</section>

        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
